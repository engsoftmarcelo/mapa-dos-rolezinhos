<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalhes do Rolê</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <link rel="stylesheet" href="assets/css/style.css" />
    <style>
      #map-detail { height: 300px; width: 100%; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.1); }
    </style>
  </head>
  <body>
    <!-- NAVBAR PADRÃO -->
    <nav class="navbar navbar-expand-lg sticky-top navbar-dark">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
            <img src="imgs/logo.png" alt="Logo" class="logo-brand" style="height: 50px;">
        </a>
        <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <form class="d-flex ms-auto my-2 my-lg-0 position-relative" id="form-busca">
            <input class="form-control rounded-pill border-secondary bg-dark text-white pe-5" type="search" placeholder="Buscar Rolê..." aria-label="Busca">
            <button class="btn btn-link position-absolute top-50 end-0 translate-middle-y text-light pe-3 text-decoration-none" type="submit">
                <i class="bi bi-search"></i>
            </button>
          </form>
          <ul class="navbar-nav ms-3 align-items-center gap-2">
            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="todos.html">Rolezinhos</a></li>
            <li class="nav-item"><a class="nav-link" href="favoritos.html">Favoritos</a></li>
            <li class="nav-item ms-2" id="auth-container"></li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container" style="margin-top: 40px">
      <section id="detalhe-do-evento" class="p-0 bg-transparent border-0">
        <div id="loading-msg" class="text-center py-5">
          <div class="spinner-border text-warning" style="width: 4rem; height: 4rem" role="status"></div>
        </div>

        <div id="content-area" style="display: none">
          <div class="row">
            <div class="col-lg-6 mb-4 position-relative">
              <span id="detalhe-categoria" class="badge bg-primary position-absolute top-0 start-0 m-3 z-2">Categoria</span>
              <img id="detalhe-imagem" src="" class="img-fluid rounded-4 shadow-lg w-100 object-fit-cover" style="max-height: 500px" alt="Imagem do rolê" />
            </div>

            <div class="col-lg-6 text-white">
              <div class="d-flex justify-content-between align-items-start">
                <h1 id="detalhe-titulo" class="fw-bold display-5 mb-3">Nome do Evento</h1>
                <!-- Botão Favoritar -->
                <button id="btn-fav-detail" class="btn btn-outline-danger rounded-circle ms-2" style="width: 50px; height: 50px">
                  <i class="bi bi-heart"></i>
                </button>
              </div>

              <p id="detalhe-descricao" class="fs-5 text-light opacity-75 fst-italic">Descrição curta...</p>

              <div class="card bg-dark border-secondary mb-4">
                <div class="card-body">
                  <ul class="list-unstyled mb-0 text-white">
                    <li class="mb-2"><i class="bi bi-calendar-event text-primary me-2"></i><strong>Data:</strong> <span id="detalhe-data" class="text-white opacity-75"></span></li>
                    <li class="mb-2"><i class="bi bi-clock text-primary me-2"></i><strong>Horário:</strong> <span id="detalhe-horario" class="text-white opacity-75"></span></li>
                    <li class="mb-2"><i class="bi bi-geo-alt text-primary me-2"></i><strong>Local:</strong> <span id="detalhe-local" class="text-white opacity-75"></span></li>
                    <li class="mb-2"><i class="bi bi-ticket-perforated text-primary me-2"></i><strong>Ingressos:</strong> <span id="detalhe-ingressos" class="text-white opacity-75"></span></li>
                    <li><i class="bi bi-music-note-beamed text-primary me-2"></i><strong>Atrações:</strong> <span id="detalhe-atracoes" class="text-white opacity-75"></span></li>
                  </ul>
                </div>
              </div>

              <div class="mb-4">
                <h4 class="fw-bold border-bottom border-secondary pb-2 mb-3">Sobre o Rolê</h4>
                <p id="detalhe-conteudo" class="text-light opacity-75" style="line-height: 1.8">Conteúdo detalhado...</p>
              </div>

              <div class="mb-4">
                <h4 class="fw-bold border-bottom border-secondary pb-2 mb-3">Como Chegar</h4>
                <div id="map-detail"></div>
              </div>

              <!-- BOTÕES ADMIN: ID adicionado para controle do JS -->
              <div id="admin-buttons-container" class="d-flex gap-2 mt-5" style="display: none;">
                <a href="#" id="btn-editar" class="btn btn-warning flex-grow-1"><i class="bi bi-pencil"></i> Editar</a>
                <button id="btn-excluir" class="btn btn-danger"><i class="bi bi-trash"></i></button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="text-center mt-5 py-4 bg-black bg-opacity-25">
        <div class="container">
            <p class="mb-2 small text-white opacity-75">&copy; 2025 Mapa dos Rolezinhos.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="module" src="assets/scripts/app.js"></script>
  </body>
</html>